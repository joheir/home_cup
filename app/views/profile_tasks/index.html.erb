<div class="wrapper">
  <div class="header">
    <% if @profile.progress < 10 %>
      <p>You have some work to do! 💪</p>
    <% elsif @profile.progress < 30 %>
      <p>Good start, keep up the good work! 👌</p>
    <% elsif @profile.progress < 50 %>
      <p>Every task counts! Well done! 👏</p>
    <% elsif @profile.progress < 70 %>
      <p>Very good, you are so close to reaching your goal! 👏</p>
    <% elsif @profile.progress < 90 %>
      <p>Almost there! ⭐️</p>
    <% else @profile.progress == 100 %>
      <p>Congratulations! You did it! 🏆</p>
    <% end %>

    <p>Your progress <%= @profile.progress %>%</p>
  </div>

  <div class="task-overview">
    <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active text-center">
          <h1>All</h1>
          <ul>
            <% @profile_tasks.each do |profile_task| %>
              <div class= "overview-tasks">
                <%= profile_task.task_template.title %>
                <%= profile_task.task_template.description %>
                <%= button_to profile_profile_task_path(profile_task.profile, profile_task), remote: true, method: :put, class: "check-box-buton" do %>
                  <% if profile_task.done? %>
                    <i class="fa-solid fa-square"></i>
                  <% else %>
                    <i class="fa-regular fa-square"></i>
                  <% end %>
                <% end %>
              </div>
            <% end %>
          </ul>
        </div>

        <% ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"].each do |day|  %>
          <div class="carousel-item text-center">
            <h1><%= day %></h1>
            <ul>
            <% @profile_tasks.each do |profile_task| %>
              <% if profile_task.task_template.weekday == day %>
                <div class= "overview-tasks">
                  <%= profile_task.task_template.title %>
                  <%= profile_task.task_template.description %>
                  <%= button_to profile_profile_task_path(profile_task.profile, profile_task), remote: true, method: :put, class: "check-box-buton" do %>
                    <% if profile_task.done? %>
                      <i class="fa-solid fa-square"></i>
                    <% else %>
                      <i class="fa-regular fa-square"></i>
                    <% end %>
                  <% end %>
                </div>
              <% end %>
            <% end %>
          </div>
        <% end %>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
    </div>
  </div>


</div>

<div class="btndiv">
  <% if @profile.admin? %>
      <%= link_to "Add a household task!", task_templates_path, class: "btn-orange-4 "%>
  <% end %>
  </div>
</div>
